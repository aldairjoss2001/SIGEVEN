<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Eventos - Panel Administrativo</title>
    <link rel="stylesheet" href="admin.css">
    <!-- Material Icons from Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
            font-size: inherit;
        }
        
        /* Vertical Sidebar for Admin */
        .admin-sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 250px;
            height: 100vh;
            background: #163E8C;
            padding: 20px 0;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }
        
        .admin-sidebar-logo {
            padding: 0 20px 30px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 20px;
        }
        
        .admin-sidebar-logo img {
            width: 100%;
            max-width: 150px;
            height: auto;
            object-fit: contain;
            filter: brightness(0) invert(1);
        }
        
        .admin-sidebar-logo h2 {
            color: #FED600;
            font-size: 1.2rem;
            margin-top: 10px;
        }
        
        .admin-sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 5px;
            padding: 0 10px;
        }
        
        .admin-sidebar-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .admin-sidebar-item .material-symbols-outlined {
            font-size: 24px;
        }
        
        .admin-sidebar-item:hover {
            background: rgba(254, 214, 0, 0.15);
            color: #FED600;
        }
        
        .admin-sidebar-item.active {
            background: #FED600;
            color: #163E8C;
        }
        
        /* Top Header for Admin */
        .admin-top-header {
            position: fixed;
            top: 0;
            left: 250px;
            right: 0;
            height: 60px;
            background: #fff;
            border-bottom: 1px solid rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            z-index: 999;
            box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }
        
        .admin-header-title {
            font-size: 1.5rem;
            color: #163E8C;
            font-weight: 700;
        }
        
        .admin-user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .admin-user-info .material-symbols-outlined {
            font-size: 32px;
            color: #163E8C;
        }
        
        .admin-user-name {
            font-weight: 600;
            color: #163E8C;
        }
        
        /* Main Content with Sidebar Offset */
        .admin-main {
            margin-left: 250px;
            margin-top: 60px;
            padding: 2rem;
            min-height: calc(100vh - 60px);
            background: linear-gradient(rgba(0,19,51,0.04), rgba(0,10,30,0.04)), #f4f6f8;
        }
        
        .admin-container {
            max-width: 1400px;
            margin: 0 auto;
        }
    </style>
</head>
<body class="admin-dashboard">
    <!-- Vertical Sidebar Navigation -->
    <aside class="admin-sidebar">
        <div class="admin-sidebar-logo">
            <img src="../sistema_de_eventos/assets/icons/logo.png" alt="Logo EMI">
            <h2>Panel Admin</h2>
        </div>
        <nav class="admin-sidebar-nav">
            <a href="index.html" class="admin-sidebar-item">
                <span class="material-symbols-outlined">dashboard</span>
                <span>DASHBOARD</span>
            </a>
            <a href="gestion-eventos.html" class="admin-sidebar-item active">
                <span class="material-symbols-outlined">event_note</span>
                <span>EVENTOS</span>
            </a>
            <a href="gestion-usuarios.html" class="admin-sidebar-item">
                <span class="material-symbols-outlined">groups</span>
                <span>USUARIOS</span>
            </a>
            <a href="gestion-espacios.html" class="admin-sidebar-item">
                <span class="material-symbols-outlined">meeting_room</span>
                <span>ESPACIOS</span>
            </a>
            <a href="reportes.html" class="admin-sidebar-item">
                <span class="material-symbols-outlined">assessment</span>
                <span>REPORTES</span>
            </a>
            <a href="configuracion.html" class="admin-sidebar-item">
                <span class="material-symbols-outlined">settings</span>
                <span>CONFIGURACI√ìN</span>
            </a>
            <a href="../logout.php" class="admin-sidebar-item">
                <span class="material-symbols-outlined">logout</span>
                <span>SALIR</span>
            </a>
        </nav>
    </aside>

    <!-- Top Header -->
    <header class="admin-top-header">
        <h1 class="admin-header-title">Gesti√≥n de Eventos</h1>
        <div class="admin-user-info">
            <span class="material-symbols-outlined">account_circle</span>
            <span class="admin-user-name">Administrador</span>
        </div>
    </header>

    <!-- Main Content -->
    <main class="admin-main">
        <div class="admin-container">
            <!-- Header Section -->
            <section class="welcome-section">
                <h2>Gesti√≥n de Eventos</h2>
                <p>Revisar y administrar las solicitudes de eventos universitarios</p>
            </section>

            <!-- Filtros y B√∫squeda -->
            <section class="filters-section">
                <div class="filters-header">
                    <h3 class="section-title">Eventos Pendientes <span class="badge-count">8</span></h3>
                    <div class="filters-actions">
                        <div class="search-box">
                            <input type="text" placeholder="Buscar eventos..." class="search-input">
                            <span class="search-icon">üîç</span>
                        </div>
                        <select class="filter-select">
                            <option value="all">Todos los estados</option>
                            <option value="pending" selected>Pendientes</option>
                            <option value="approved">Aprobados</option>
                            <option value="rejected">Rechazados</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Lista de Eventos Pendientes -->
            <section class="events-list-section">
                <!-- Evento 1 -->
                <div class="event-card pending">
                    <div class="event-header">
                        <div class="event-basic-info">
                            <h4 class="event-title">VII Versi√≥n CTF EMI 2025</h4>
                            <div class="event-meta">
                                <span class="event-creator">üë®‚Äçüè´ Dr. Carlos Mendoza</span>
                                <span class="event-date">üìÖ 10 Oct 2025 - 18:00</span>
                                <span class="event-location">üìç Auditorio Principal</span>
                                <span class="event-capacity">üë• 80 personas</span>
                            </div>
                        </div>
                        <div class="event-status-badge pending">‚è≥ Pendiente</div>
                    </div>

                    <div class="event-details">
                        <p class="event-description">
                            Sexta versi√≥n de desaf√≠o captura la bandera para estudiantes de sistemas. 
                            Incluye talleres de seguridad inform√°tica y competencias pr√°cticas.
                        </p>
                        
                        <div class="event-documents">
                            <h5>Documentaci√≥n Adjunta:</h5>
                            <div class="documents-list">
                                <span class="document-item">üìÑ carta_autorizacion.pdf</span>
                                <span class="document-item">üìã programa_detallado.docx</span>
                                <span class="document-item">üìä lista_recursos.xlsx</span>
                            </div>
                        </div>

                        <div class="event-requirements">
                            <h5>Requerimientos Especiales:</h5>
                            <p>Proyector, internet de alta velocidad, 25 computadoras con acceso admin</p>
                        </div>
                    </div>

                    <div class="event-actions">
                        <button class="btn btn-success" onclick="approveEvent(this)">
                            ‚úÖ Aprobar Evento
                        </button>
                        <button class="btn btn-danger" onclick="rejectEvent(this)">
                            ‚ùå Rechazar
                        </button>
                        <button class="btn btn-warning" onclick="requestChanges(this)">
                            üìù Solicitar Cambios
                        </button>
                        <button class="btn btn-outline" onclick="viewDetails(this)">
                            üëÅÔ∏è Ver Detalles
                        </button>
                    </div>
                </div>

                <!-- Evento 2 -->
                <div class="event-card pending">
                    <div class="event-header">
                        <div class="event-basic-info">
                            <h4 class="event-title">Campa√±a de Arborizaci√≥n 2025</h4>
                            <div class="event-meta">
                                <span class="event-creator">üë©‚Äçüè´ Lic. Ana Garc√≠a</span>
                                <span class="event-date">üìÖ 15 Nov 2025 - 08:00</span>
                                <span class="event-location">üìç Play√≥n Irpavi</span>
                                <span class="event-capacity">üë• 50 personas</span>
                            </div>
                        </div>
                        <div class="event-status-badge pending">‚è≥ Pendiente</div>
                    </div>

                    <div class="event-details">
                        <p class="event-description">
                            Actividad de responsabilidad social universitaria para concientizar 
                            sobre el cuidado del medio ambiente y reforestaci√≥n.
                        </p>
                        
                        <div class="event-documents">
                            <h5>Documentaci√≥n Adjunta:</h5>
                            <div class="documents-list">
                                <span class="document-item">üìÑ autorizacion_direccion.pdf</span>
                                <span class="document-item">üìã plan_trabajo.docx</span>
                            </div>
                        </div>

                        <div class="event-requirements">
                            <h5>Requerimientos Especiales:</h5>
                            <p>Transporte universitario, herramientas de jardiner√≠a, refrigerios</p>
                        </div>
                    </div>

                    <div class="event-actions">
                        <button class="btn btn-success" onclick="approveEvent(this)">
                            ‚úÖ Aprobar Evento
                        </button>
                        <button class="btn btn-danger" onclick="rejectEvent(this)">
                            ‚ùå Rechazar
                        </button>
                        <button class="btn btn-warning" onclick="requestChanges(this)">
                            üìù Solicitar Cambios
                        </button>
                        <button class="btn btn-outline" onclick="viewDetails(this)">
                            üëÅÔ∏è Ver Detalles
                        </button>
                    </div>
                </div>

                <!-- Evento 3 -->
                <div class="event-card pending urgent">
                    <div class="event-header">
                        <div class="event-basic-info">
                            <h4 class="event-title">Taller de Rob√≥tica Avanzada</h4>
                            <div class="event-meta">
                                <span class="event-creator">üë®‚Äçüè´ Ing. Roberto Silva</span>
                                <span class="event-date">üìÖ 05 Nov 2025 - 14:00</span>
                                <span class="event-location">üìç Laboratorio de Rob√≥tica</span>
                                <span class="event-capacity">üë• 20 personas</span>
                            </div>
                        </div>
                        <div class="event-status-badge urgent">üö® Urgente</div>
                    </div>

                    <div class="event-details">
                        <p class="event-description">
                            Taller pr√°ctico de rob√≥tica para estudiantes de ingenier√≠a. 
                            Uso de kits Arduino y programaci√≥n de robots aut√≥nomos.
                        </p>
                        
                        <div class="event-documents">
                            <h5>Documentaci√≥n Adjunta:</h5>
                            <div class="documents-list">
                                <span class="document-item">üìÑ carta_coordinacion.pdf</span>
                                <span class="document-item">üìã material_taller.pptx</span>
                            </div>
                        </div>

                        <div class="event-requirements">
                            <h5>Requerimientos Especiales:</h5>
                            <p>15 kits de rob√≥tica, proyector, acceso a laboratorio por 4 horas</p>
                        </div>
                    </div>

                    <div class="event-actions">
                        <button class="btn btn-success" onclick="approveEvent(this)">
                            ‚úÖ Aprobar Evento
                        </button>
                        <button class="btn btn-danger" onclick="rejectEvent(this)">
                            ‚ùå Rechazar
                        </button>
                        <button class="btn btn-warning" onclick="requestChanges(this)">
                            üìù Solicitar Cambios
                        </button>
                        <button class="btn btn-outline" onclick="viewDetails(this)">
                            üëÅÔ∏è Ver Detalles
                        </button>
                    </div>
                </div>
            </section>

            <!-- Eventos Aprobados (Secci√≥n colapsable) -->
            <section class="approved-events-section">
                <div class="section-header-collapsible" onclick="toggleSection('approved-events')">
                    <h3 class="section-title">
                        Eventos Aprobados 
                        <span class="badge-count">12</span>
                        <span class="toggle-icon">‚ñº</span>
                    </h3>
                </div>
                
                <div id="approved-events" class="events-list-collapsible">
                    <!-- Eventos aprobados aparecer√≠an aqu√≠ -->
                    <div class="empty-state">
                        <p>No hay eventos aprobados recientemente</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script>
        function approveEvent(button) {
            const eventCard = button.closest('.event-card');
            eventCard.classList.remove('pending', 'urgent');
            eventCard.classList.add('approved');
            
            const statusBadge = eventCard.querySelector('.event-status-badge');
            statusBadge.textContent = '‚úÖ Aprobado';
            statusBadge.className = 'event-status-badge approved';
            
            // Simular actualizaci√≥n de contador
            updatePendingCount(-1);
            
            showNotification('Evento aprobado exitosamente', 'success');
        }

        function rejectEvent(button) {
            if (confirm('¬øEst√° seguro de que desea rechazar este evento?')) {
                const eventCard = button.closest('.event-card');
                eventCard.style.opacity = '0.6';
                
                showNotification('Evento rechazado', 'error');
                updatePendingCount(-1);
                
                // En un sistema real, aqu√≠ ir√≠a la l√≥gica de rechazo
                setTimeout(() => {
                    eventCard.remove();
                }, 1000);
            }
        }

        function requestChanges(button) {
            const changes = prompt('¬øQu√© cambios solicita para este evento?');
            if (changes) {
                showNotification('Solicitud de cambios enviada al docente', 'warning');
            }
        }

        function viewDetails(button) {
            alert('Aqu√≠ se mostrar√≠an los detalles completos del evento en un modal o p√°gina separada');
        }

        function updatePendingCount(change) {
            const badge = document.querySelector('.badge-count');
            let current = parseInt(badge.textContent);
            badge.textContent = Math.max(0, current + change);
        }

        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const toggleIcon = section.previousElementSibling.querySelector('.toggle-icon');
            
            section.classList.toggle('collapsed');
            toggleIcon.textContent = section.classList.contains('collapsed') ? '‚ñ∂' : '‚ñº';
        }

        function showNotification(message, type) {
            // Simulaci√≥n simple de notificaci√≥n
            alert(`${type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ö†Ô∏è'} ${message}`);
        }

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            // Colapsar secci√≥n de aprobados por defecto
            toggleSection('approved-events');
        });
    </script>
    </div>
    </main>
</body>
</html>